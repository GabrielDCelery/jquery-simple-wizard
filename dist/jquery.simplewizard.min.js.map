{"version":3,"sources":["jquery.simplewizard.js"],"names":["$","Plugin","el","options","this","$el","$steps","find","$indicators","opts","extend","cssClassStepDone","cssClassStepActive","onInit","onChange","onFinish","onChangeTimeout","validation","formToValidate","undefined","validator","closest","isUnobtrusive","unobtrusive","init","pluginName","prototype","self","on","e","preventDefault","nextStep","prevStep","targetIndex","val","gotoStep","finish","current","getCurrentStep","eq","$target","target","hash","$targetStep","filter","length","index","first","addClass","validate","ignore","data","settings","triggerHandler","onChangeEventHandler","clearTimeout","setTimeout","updateIndicators","isValid","removeClass","next","prev","not","result","valid","fn","args","Array","slice","call","arguments","each","hasOwnProperty","instance","apply","jQuery"],"mappings":"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","file":"jquery.simplewizard.min.js","sourcesContent":["/**\n * jquery-simple-wizard - A jQuery plugin for creating a simple wizard.\n * @version v0.1.0\n * @link https://github.com/dnasir/jquery-simple-wizard\n * @license MIT\n */\n(function ($) {\r\n    \"use strict\";\r\n\r\n    var pluginName = \"simpleWizard\";\r\n\r\n    function Plugin(el, options) {\r\n        this.$el = $(el);\r\n        this.$steps = this.$el.find(\".wizard-step\");\r\n        this.$indicators = this.$el.find(\".wizard-step-indicator\");\r\n        this.opts = $.extend({\r\n            cssClassStepDone: \"wizard-done\",\r\n            cssClassStepActive: \"wizard-current\",\r\n            onInit: function () {},\r\n            onChange: function () {},\r\n            onFinish: function () {}\r\n        }, options);\r\n        this.onChangeTimeout = null;\r\n        this.validation = {\r\n            formToValidate: ($.validator !== undefined ? this.$el.closest(\"form\") : undefined),\r\n            isUnobtrusive: $.validator.unobtrusive !== undefined\r\n        };\r\n        this.init();\r\n    }\r\n\r\n    Plugin.prototype = {\r\n        init: function () {\r\n            var self = this;\r\n\r\n            self.$el.on(\"click\", \".wizard-next\", function (e) {\r\n                e.preventDefault();\r\n                self.nextStep();\r\n            });\r\n\r\n            self.$el.on(\"click\", \".wizard-prev\", function (e) {\r\n                e.preventDefault();\r\n                self.prevStep();\r\n            });\r\n\r\n            self.$el.on(\"click\", \".wizard-goto\", function (e) {\r\n                e.preventDefault();\r\n                var targetIndex = $(this).val();\r\n                self.gotoStep(targetIndex);\r\n            });\r\n\r\n            self.$el.on(\"click\", \".wizard-finish\", function (e) {\r\n                e.preventDefault();\r\n                self.finish();\r\n            });\r\n\r\n            self.$el.on(\"wizard_onInit\", function (e) {\r\n                if (typeof (self.opts.onInit) === \"function\") {\r\n                    self.opts.onInit(e);\r\n                }\r\n            });\r\n\r\n            self.$el.on(\"wizard_onChange\", function (e) {\r\n                if (typeof (self.opts.onChange) === \"function\") {\r\n                    var current = self.getCurrentStep();\r\n                    self.opts.onChange(e, self.$steps.eq(current));\r\n                }\r\n            });\r\n\r\n            self.$el.on(\"wizard_onFinish\", function (e) {\r\n                if (typeof (self.opts.onFinish) === \"function\") {\r\n                    self.opts.onFinish(e);\r\n                }\r\n            });\r\n\r\n            self.$el.on(\"click\", \"a\", function (e) {\r\n                var $target = $(e.target.hash),\r\n                    $targetStep = self.$steps.filter($target);\r\n\r\n                if ($targetStep.length) {\r\n                    e.preventDefault();\r\n                    self.gotoStep($targetStep.index());\r\n                }\r\n            });\r\n\r\n            this.$steps.first().addClass(this.opts.cssClassStepActive);\r\n            this.$indicators.first().addClass(this.opts.cssClassStepActive);\r\n\r\n            if (this.validation.formToValidate) {\r\n                this.validation.formToValidate.validate({\r\n                    ignore: \".wizard-ignore\"\r\n                });\r\n            }\r\n\r\n            if (this.validation.formToValidate && this.validation.isUnobtrusive) {\r\n                $.data(this.validation.formToValidate[0], \"validator\").settings.ignore += \",.wizard-ignore\";\r\n            }\r\n\r\n            this.$el.triggerHandler(\"wizard_onInit\");\r\n        },\r\n\r\n        // onChange event handler buffer - this will prevent multiple event raise\r\n        onChangeEventHandler: function () {\r\n            var self = this;\r\n\r\n            clearTimeout(self.onChangeTimeout);\r\n            self.onChangeTimeout = setTimeout(function () {\r\n                if (self.$indicators.length) {\r\n                    self.updateIndicators();\r\n                }\r\n\r\n                self.$el.triggerHandler(\"wizard_onChange\");\r\n            }, 100);\r\n        },\r\n\r\n        // methods\r\n\r\n        getCurrentStep: function () {\r\n            return this.$steps.filter(\".\" + this.opts.cssClassStepActive).index();\r\n        },\r\n\r\n        nextStep: function () {\r\n            var current = this.getCurrentStep();\r\n            if (!this.isValid(current)) {\r\n                return;\r\n            }\r\n\r\n            if (current >= this.$steps.length) {\r\n                return;\r\n            }\r\n\r\n            this.$steps.filter(\".\" + this.opts.cssClassStepActive)\r\n                .addClass(this.opts.cssClassStepDone).removeClass(this.opts.cssClassStepActive)\r\n                .next().addClass(this.opts.cssClassStepActive);\r\n\r\n            this.onChangeEventHandler();\r\n        },\r\n\r\n        prevStep: function () {\r\n            var current = this.getCurrentStep();\r\n\r\n            if (current <= 0) {\r\n                return;\r\n            }\r\n\r\n            this.$steps.filter(\".\" + this.opts.cssClassStepActive)\r\n                .removeClass(this.opts.cssClassStepActive)\r\n                .prev().addClass(this.opts.cssClassStepActive);\r\n\r\n            this.onChangeEventHandler();\r\n        },\r\n\r\n        gotoStep: function (index) {\r\n            if (index < 0 || index > this.$steps.length) {\r\n                return;\r\n            }\r\n\r\n            var current = this.getCurrentStep();\r\n            if (index > current) {\r\n                while (current < this.$steps.length - 1) {\r\n                    this.nextStep();\r\n                    if (!this.isValid(current)) {\r\n                        break;\r\n                    }\r\n                    current = this.getCurrentStep();\r\n                }\r\n            } else if (index < current) {\r\n                while (current > 0) {\r\n                    this.prevStep();\r\n                    current = this.getCurrentStep();\r\n                }\r\n            }\r\n        },\r\n\r\n        finish: function () {\r\n            this.$el.triggerHandler(\"wizard_onFinish\");\r\n        },\r\n\r\n        updateIndicators: function () {\r\n            var current = this.getCurrentStep();\r\n            this.$indicators\r\n                .filter(function (index) {\r\n                    return index < current;\r\n                })\r\n                .addClass(this.opts.cssClassStepDone);\r\n            this.$indicators.removeClass(this.opts.cssClassStepActive)\r\n                .eq(current).addClass(this.opts.cssClassStepActive);\r\n        },\r\n\r\n        isValid: function (current) {\r\n            if (this.validation.formToValidate === undefined) {\r\n                return true;\r\n            }\r\n\r\n            this.$steps.not(\":eq(\" + current + \")\").find(\"input, textarea\").addClass(\"wizard-ignore\");\r\n\r\n            var result = this.validation.formToValidate.valid();\r\n\r\n            this.$steps.find(\"input, textarea\").removeClass(\"wizard-ignore\");\r\n\r\n            return result;\r\n        }\r\n    };\r\n\r\n    $.fn[pluginName] = function (options) {\r\n        var args = Array.prototype.slice.call(arguments, 1);\r\n\r\n        return this.each(function () {\r\n            if (!$.data(this, \"plugin_\" + pluginName)) {\r\n                $.data(this, \"plugin_\" + pluginName, new Plugin(this, options));\r\n            } else if (typeof options === \"string\" && Plugin.prototype.hasOwnProperty(options)) {\r\n                var instance = $.data(this, \"plugin_\" + pluginName);\r\n                Plugin.prototype[options].apply(instance, args);\r\n            }\r\n        });\r\n    };\r\n})(jQuery);\r\n"],"sourceRoot":"/source/"}